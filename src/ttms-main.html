<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FC Timetable Main</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">

  <header class="bg-blue-600 text-white p-4 flex justify-between items-center">
    <button onclick="toggleSidebar()" class="text-3xl">&#9776;</button>
    <h1 class="text-xl font-bold">Dashboard</h1>
  </header>

  <div id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-white shadow-lg transform -translate-x-full transition-transform z-50">
    <div class="p-4 border-b flex justify-between items-center">
      <h2 class="text-sm font-semibold">&#x2190; Kembali</h2>
      <button onclick="toggleSidebar()" class="text-2xl">&times;</button>
    </div>
    <nav class="flex flex-col p-4 text-sm">
      <a href="#" id="timetable" class="py-2 text-gray-800 hover:bg-blue-100 rounded">Jadual Waktu</a>
      <div class="group relative">
        <button class="py-2 text-left w-full text-gray-800 hover:bg-blue-100 rounded">Analysis ▼</button>
        <!-- Placeholder for dropdown (you can implement JS logic to toggle if needed) -->
      </div>
      <a href="#" class="py-2 text-gray-800 hover:bg-blue-100 rounded">Ruang</a>
      <a href="#" class="py-2 text-gray-800 hover:bg-blue-100 rounded">Subjek</a>
      <a href="#" class="py-2 text-gray-800 hover:bg-blue-100 rounded">Pensyarah</a>
      <a href="#" class="py-2 text-gray-800 hover:bg-blue-100 rounded">Pelajar</a>
      <a href="#" class="py-2 text-gray-800 hover:bg-blue-100 rounded">Kurikulum</a>
      <a href="#" id="logout" class="py-2 text-red-600 hover:bg-red-100 rounded">Logout</a>
    </nav>
  </div>

  <main id="mainContent">
    <div class="bg-cover bg-center h-60 text-white flex flex-col justify-center items-center"
      style="background-image: url('images/backdropMain.jpg');">
      <img src="images/UTM-LOGO.png" class="w-16 mb-2" alt="UTM Logo">
      <h2 class="text-2xl font-bold drop-shadow-md">Welcome</h2>
      <p class="drop-shadow-md" id="user-info">User Name - Matric No</p>
    </div>

    <div class="p-4">
      <div class="bg-blue-100 rounded-xl shadow p-4">
        <div class="grid grid-cols-2 text-sm">
          <div class="font-bold">Sesi</div>
          <div>2024/2025</div>
          <div class="font-bold">Semester</div>
          <div>2</div>
          <div class="font-bold">Tarikh Mula/Tamat</div>
          <div>2025-03-16 / 2025-06-28</div>
        </div>
      </div>

      <p class="text-xs text-center mt-6">
        Jika anda mempunyai sebarang komen atau pertanyaan mengenai halaman web ini sila hubungi webmaster
        di <a href="mailto:ttms@fc.utm.my" class="text-blue-600">ttms@fc.utm.my</a><br>
        Hakcipta Terpelihara © 2002-2025, Fakulti Komputeran, UTM
      </p>
    </div>
  </main>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('-translate-x-full');
    }

    const user = JSON.parse(localStorage.getItem("web.fc.utm.my_usersession"));
    if (user) {
      document.getElementById("user-info").innerText = `${user.full_name} - ${user.login_name}`;
    }

    $("#timetable").click(function () {
      $("#mainContent").load("ttms-timetable.html");
      toggleSidebar();
    });

    $("#logout").click(function () {
      localStorage.removeItem("web.fc.utm.my_usersession");
      window.location.replace("ttms-login.html");
    });
  </script>

</body>

</html>
